# {{ project_name }}

This project's layout has been generated by Bootstrap CLI (https://github.com/HiroAntagonist/bootstrap.git)

## Directory Structure
```text
├── Agents.md             # Context for AI Agents
├── Taskfile.yml          # Command runner
├── pyproject.toml        # Workspace root
├── api/                  # OpenAPI Spec
├── infra/                # Infrastructure (Fly/Docker)
├── ops/                  # Operational runbooks
├── packages/             # Shared Code Libraries
│   └── {{ project_name }}_api/  # Auto-generated API client library for Python
│   └── {{ ProjectName }}Api/    # (Future) Auto-generated API client library for Swift
│   └── {{ project-name }}-api/  # (Future) Auto-generated API client library for TS
│   └── {{ projectname }}api/    # (Future) Auto-generated API client library for Go
├── apps/                 # Client Applications
│   └── cli/              # Console CLI
│   └── ios/              # (Future) iOS client
│   └── web/              # (Future) web client
└── services/             # Backend Services
    └── backend/          # currently there is just one backend service (monorepo monolith) but additional services go here
```

## Architecture

This monorepo is designed to be polyglot and scalable.

### 1. Services & Apps `[apps/]` `[services/]`
*   **`services/`**: Backend microservices or the main monolith.
*   **`apps/`**: Client-side applications.
    *   `apps/cli`: Python-based CLI for management.
    *   *(Future)* `apps/web`: Next.js web application.
    *   *(Future)* `apps/ios`: Native Swift iOS application.

### 2. Shared Packages `[packages/]`
Code shared between apps and services lives here.
*   **`packages/{{ project_name }}_api`**: Auto-generated Python client for your backend API (used by `apps/cli`).
*   *(Future)* Swift and TypeScript API clients for iOS and Web.

## Managing Components

### Installed by Default
When you run `bootstrap init`, you get:
*   A backend service (Python/Go).
*   A Python CLI (`apps/cli`) with API client integration.
*   Auto-generated API client (`packages/{{ project_name }}_api`) from OpenAPI spec.
*   Infrastructure config (Docker/Fly).

### Adding New Components
Use the `bootstrap` tool to expand your project.

#### Adding a Shared Package
Create a new shared library (e.g., for shared business logic, types, or utilities):

```bash
# Add a Python package
bootstrap add package my-core-lib --type python

# Add a Go package
bootstrap add package my-go-lib --type go
```

#### Adding an App (Coming Soon)
To add a new frontend or service:

```bash
bootstrap add component web  # Scaffolds Next.js
bootstrap add component ios  # Scaffolds iOS Swift App
```

### Prerequisites

- `uv` (Python package manager)
- `go` (If using Go backend)
- `task` (Taskfile runner)
- `docker` (For local services)

### Setup

This will install dependencies and generate the API clients

```bash
task setup
```

### Development

Start the development server and local services:

```bash
task dev
```

### Testing

Run the test suite:

```bash
task test
```

### Regenerate API Client

After modifying `api/openapi.yaml`, regenerate the API client:

```bash
task generate:api
```

### Database Migrations

Run database migrations:

```bash
task db:migrate
```
